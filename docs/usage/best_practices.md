# LLM 工具最佳实践

## 关键原则

- **无状态函数：**  
  函数应该是无状态的，仅依赖于提供的输入参数。这确保了可预测的行为。

  无状态函数不依赖于任何外部状态或先前的交互。这使得它们更容易测试、调试和在不同上下文中重用。通过确保每个函数调用都是独立的，您可以避免意外的副作用并提高代码的可靠性。

- **带类型提示的简单输入/输出类型：**  
  对输入和输出使用简单类型，并包含类型提示以确保清晰性和类型安全。

  简单的输入和输出类型使函数更容易理解和使用。类型提示提供了关于期望数据类型的额外上下文，这有助于防止错误并提高代码可读性。这在像 Python 这样的动态类型语言中尤其重要，类型提示可以作为一种文档形式。

- **文档字符串：**  
  始终包含文档字符串来描述函数的目的、参数和返回值。这有助于理解和使用。

  文档字符串对于记录代码至关重要。它们清楚地解释了函数的作用、期望的输入和产生的输出。这些信息对于其他开发人员（或未来的您）可能需要稍后使用或修改函数来说是非常宝贵的。

- **安全考虑：**  
  严格验证输入并实施访问控制以防止被利用。

  安全是函数设计的关键方面。输入验证有助于防止恶意数据造成伤害，而访问控制确保只有授权用户才能执行某些函数。这些措施对于保护函数本身和它交互的系统都至关重要。

- **发布前测试：**  
  进行彻底测试以确保函数的可靠性和正确性。

  测试对于验证您的函数按预期工作至关重要。这包括检查单个组件的单元测试和确保函数与系统其他部分正确交互的集成测试。全面的测试有助于及早发现错误并确保顺利的部署过程。

## 示例：函数定义（Python）

```python
def calculate_area(length: float, width: float) -> float:
    """
    计算矩形的面积。

    Args:
        length (float): 矩形的长度。
        width (float): 矩形的宽度。

    Returns:
        float: 矩形的面积。
    """
    return length * width
